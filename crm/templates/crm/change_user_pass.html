{% extends "crm/base.html" %}

{% load static %}
{% block static_files %}
    <link rel="stylesheet" href="{% static 'crm/css/change_user_pass.css' %}">
{% endblock %}


{% block body %}
     <form method="POST">
         {% csrf_token %}
         <div class="container">
             <h3>Change Password</h3>

             {% for f in form %}
                 <label for="{{ f.name }}"><b>{{ f.name }}</b></label>
                 <input type="password" placeholder="Enter {{ f.name }}" name="{{ f.name }}" required>
             {% endfor %}

             <input type="checkbox" onclick="show()"> Show Password

             <button type="submit" class="btn">confirm</button>
         </div>
    </form>

    <script>

        function show() {
            var y = document.querySelectorAll('input[type="text"]');
            var x = document.querySelectorAll('input[type="password"]');
            if (x.length != 0) {
                for (i=0; i<x.length; i++) {
                    if (x[i].type === "password") {
                        x[i].type = "text";
                    }
                }
            } else {
                for (i=0; i<y.length; i++) {
                    if (y[i].type === "text") {
                        y[i].type = "password";
                    }
                }
            }
        }

    </script>

{% endblock %}
